# Отчет по заданию "Team 01 - Piscine SQL"

Данный проект являтся групповым проектом. `Владелец репозитория выполнял ex00`. В данной мы создали и управляли хранилищем данных (Data Warehouse, DWH), с целью извлечения, трансформации и загрузки данных из различных источников для последующего анализа. Основное внимание было уделено выполнению двух упражнений, направленных на агрегирование данных и создание детализированных запросов. 

## Часть I: Подготовка

1. **Изучение концепций DWH и ETL-процессов:**
   - Ознакомились с основными концепциями хранилищ данных и их архитектурой.
   - Определили ключевые принципы ETL-процессов (Extract, Transform, Load) и их применение для обработки данных.

## Часть II: Выполнение упражнений

### **ex00 - Классический DWH**

**Цель:** Агрегировать данные из различных источников и создать итоговый отчет о транзакциях.

1. **Подготовка данных:**
   - Создал таблицы в хранилище данных, соответствующие исходным данным из различных источников, таких как User, Currency и Balance.
   - Перенес данные в таблицы DWH, учитывая добавление временных меток для отслеживания изменений и аномалий в данных.

2. **Агрегирование данных:**
   - Реализовал SQL-запрос для подсчета общего объема транзакций, сгруппированного по пользователям и типам баланса.
   - В запросе учитывались возможные аномалии, такие как отсутствующие значения и несоответствия в данных.

3. **Формирование отчетов:**
   - Сформировал отчет, который включает имя пользователя, фамилию, тип баланса, объем транзакций, название валюты и последние курсы валют в USD.
   - Учитывал значения по умолчанию для отсутствующих данных и корректно обрабатывал NULL-значения.

### **ex01 - Детализированный запрос**

**Цель:** Рассчитать значение валют в USD для транзакций с использованием ближайших значений курсов.

1. **Создание функций для получения курсов валют:**
   - Реализовал функции для поиска ближайших значений курсов валют до и после указанной даты транзакции.
   - Определил логику для выбора наиболее подходящего значения курса на основе временных меток транзакций.

2. **Расчет значений валют:**
   - Создал запрос, который объединяет данные о пользователях и транзакциях, вычисляя значение валют в USD с учетом ближайших значений курсов.
   - В расчетах использовал значения по умолчанию для отсутствующих данных и корректно обрабатывал NULL-значения.

3. **Формирование итоговых данных:**
   - Сформировал отчет, включающий имя пользователя, фамилию, название валюты и расчетное значение валюты в USD на основе данных о транзакциях.
   - Сортировал данные по имени пользователя, фамилии и названию валюты.

## Заключение

В процессе выполнения задания мы изучили принципы создания и управления хранилищем данных, а также применили их для реализации ETL-процессов. Мы успешно реализовал запросы для агрегирования данных и расчета значений валют, учитывая возможные аномалии и специфику данных. Эти навыки являются основой для дальнейшей работы с данными и их анализа в различных проектах.